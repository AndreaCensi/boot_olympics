

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ros_logs Package &mdash; BootOlympics 1.3 documentation</title>
    
    <link rel="stylesheet" href="../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="BootOlympics 1.3 documentation" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">BootOlympics 1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="ros-logs-package">
<h1>ros_logs Package<a class="headerlink" href="#ros-logs-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">ros_logs</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-bootstrapping_olympics.extra.ros.ros_logs"></span><p>Functions for dealing with ROS logs.</p>
</div>
<div class="section" id="module-bootstrapping_olympics.extra.ros.ros_logs.index">
<span id="index-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">index</span></tt> Module<a class="headerlink" href="#module-bootstrapping_olympics.extra.ros.ros_logs.index" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.index.bag_describe_stream">
<tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.index.</tt><tt class="descname">bag_describe_stream</tt><big>(</big><em>bag_file</em>, <em>bag</em>, <em>topic</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/index.html#bag_describe_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.index.bag_describe_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.index.bag_get_bootstrapping_stream">
<tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.index.</tt><tt class="descname">bag_get_bootstrapping_stream</tt><big>(</big><em>bag_file</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/index.html#bag_get_bootstrapping_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.index.bag_get_bootstrapping_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of topics which are bootstrapping streams 
in a bag file.</p>
</dd></dl>

<dl class="function">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.index.boot_spec_from_ros_message">
<tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.index.</tt><tt class="descname">boot_spec_from_ros_message</tt><big>(</big><em>msg</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/index.html#boot_spec_from_ros_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.index.boot_spec_from_ros_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers the boot spec from a ROS message.</p>
</dd></dl>

</div>
<div class="section" id="module-bootstrapping_olympics.extra.ros.ros_logs.interface">
<span id="interface-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">interface</span></tt> Module<a class="headerlink" href="#module-bootstrapping_olympics.extra.ros.ros_logs.interface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat">
<em class="property">class </em><tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.interface.</tt><tt class="descname">ROSLogsFormat</tt><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/interface.html#ROSLogsFormat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="bootstrapping_olympics.logs.html#bootstrapping_olympics.logs.logs_format.LogsFormat" title="bootstrapping_olympics.logs.logs_format.LogsFormat"><tt class="xref py py-class docutils literal"><span class="pre">bootstrapping_olympics.logs.logs_format.LogsFormat</span></tt></a></p>
<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.index_file">
<tt class="descname">index_file</tt><big>(</big><em>filename</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/interface.html#ROSLogsFormat.index_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.index_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of BootStream objects.</p>
</dd></dl>

<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.read_from_stream">
<tt class="descname">read_from_stream</tt><big>(</big><em>filename</em>, <em>id_stream</em>, <em>read_extra=False</em>, <em>only_episodes=None</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/interface.html#ROSLogsFormat.read_from_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.read_from_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields observations from the stream.</p>
</dd></dl>

<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.read_stream">
<tt class="descname">read_stream</tt><big>(</big><em>stream</em>, <em>read_extra=False</em>, <em>only_episodes=None</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/interface.html#ROSLogsFormat.read_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.read_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields observations from the stream.</p>
</dd></dl>

<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.write_stream">
<tt class="descname">write_stream</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/interface.html#ROSLogsFormat.write_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.interface.ROSLogsFormat.write_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bootstrapping_olympics.extra.ros.ros_logs.read">
<span id="read-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">read</span></tt> Module<a class="headerlink" href="#module-bootstrapping_olympics.extra.ros.ros_logs.read" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.read.bag_read">
<tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.read.</tt><tt class="descname">bag_read</tt><big>(</big><em>bag_file</em>, <em>topic</em>, <em>spec</em>, <em>substitute_id_episode</em>, <em>only_episodes=None</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/read.html#bag_read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.read.bag_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the log in ROS bag file (only the
topic given) and converts it to the structure we use internally.
The ROS2Python object takes care to sanitize the logs;
it makes lots of checks for data meant to come directly from
real robots (so delay, wrong formats, etc. are expected.</p>
</dd></dl>

</div>
<div class="section" id="module-bootstrapping_olympics.extra.ros.ros_logs.ros2python">
<span id="ros2python-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">ros2python</span></tt> Module<a class="headerlink" href="#module-bootstrapping_olympics.extra.ros.ros_logs.ros2python" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros2python.ROS2Python">
<em class="property">class </em><tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.ros2python.</tt><tt class="descname">ROS2Python</tt><big>(</big><em>spec</em>, <em>max_dt=1</em>, <em>tolerant=False</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/ros2python.html#ROS2Python"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros2python.ROS2Python" title="Permalink to this definition">¶</a></dt>
<dd><p>This class takes converts a BootstrappingObservations ROS structure
into an Observation type object. It also makes some consistency
checks, marks different episodes, discards repeated observations, etc. 
The idea is that the data that comes out of this will not need any 
other check by the agents.</p>
<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros2python.ROS2Python.convert">
<tt class="descname">convert</tt><big>(</big><em>ros_obs</em>, <em>filter_doubles=True</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/ros2python.html#ROS2Python.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros2python.ROS2Python.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns None if the same message is repeated.</p>
</dd></dl>

<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros2python.ROS2Python.debug">
<tt class="descname">debug</tt><big>(</big><em>s</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/ros2python.html#ROS2Python.debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros2python.ROS2Python.debug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bootstrapping_olympics.extra.ros.ros_logs.ros_conversions">
<span id="ros-conversions-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">ros_conversions</span></tt> Module<a class="headerlink" href="#module-bootstrapping_olympics.extra.ros.ros_logs.ros_conversions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.Cache">
<em class="property">class </em><tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.</tt><tt class="descname">Cache</tt><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/ros_conversions.html#Cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.Cache" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.Cache.last_robot_spec">
<tt class="descname">last_robot_spec</tt><em class="property"> = None</em><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.Cache.last_robot_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.Cache.last_spec">
<tt class="descname">last_spec</tt><em class="property"> = None</em><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.Cache.last_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.observations2ros">
<tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.</tt><tt class="descname">observations2ros</tt><big>(</big><em>robot_spec</em>, <em>obs</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/ros_conversions.html#observations2ros"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.ros_conversions.observations2ros" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Converts the array format used internally in the Python program</dt>
<dd><p class="first">to a ROS message. The ROS message also includes the robot spec.</p>
<p>ROS has some problems with arrays of different dimensions, so the
data is flattened.</p>
<p>Spec always included</p>
<p class="last">Other quirks (to be changed in the future):
- id_environment instead of id_world</p>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> (<tt class="docutils literal"><span class="pre">array</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-bootstrapping_olympics.extra.ros.ros_logs.write">
<span id="write-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">write</span></tt> Module<a class="headerlink" href="#module-bootstrapping_olympics.extra.ros.ros_logs.write" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter">
<em class="property">class </em><tt class="descclassname">bootstrapping_olympics.extra.ros.ros_logs.write.</tt><tt class="descname">BagLogWriter</tt><big>(</big><em>filename</em>, <em>id_stream</em>, <em>boot_spec</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/write.html#BagLogWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter.cleanup">
<tt class="descname">cleanup</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/write.html#BagLogWriter.cleanup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter.cleanup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/write.html#BagLogWriter.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter.push_observations">
<tt class="descname">push_observations</tt><big>(</big><em>observations</em>, <em>extra={}</em><big>)</big><a class="reference internal" href="../modules/bootstrapping_olympics/extra/ros/ros_logs/write.html#BagLogWriter.push_observations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bootstrapping_olympics.extra.ros.ros_logs.write.BagLogWriter.push_observations" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>observations</strong> (<tt class="docutils literal"><span class="pre">array</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ros_logs Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">ros_logs</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-bootstrapping_olympics.extra.ros.ros_logs.index"><tt class="docutils literal"><span class="pre">index</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-bootstrapping_olympics.extra.ros.ros_logs.interface"><tt class="docutils literal"><span class="pre">interface</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-bootstrapping_olympics.extra.ros.ros_logs.read"><tt class="docutils literal"><span class="pre">read</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-bootstrapping_olympics.extra.ros.ros_logs.ros2python"><tt class="docutils literal"><span class="pre">ros2python</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-bootstrapping_olympics.extra.ros.ros_logs.ros_conversions"><tt class="docutils literal"><span class="pre">ros_conversions</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-bootstrapping_olympics.extra.ros.ros_logs.write"><tt class="docutils literal"><span class="pre">write</span></tt> Module</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/api/bootstrapping_olympics.extra.ros.ros_logs.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../index.html">BootOlympics 1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Andrea Censi.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>